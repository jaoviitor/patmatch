<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="Assets/css/layout.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="icon" href="Assets/image/logo.png" type="image/png">
    <title>PetMatch</title>
</head>
<body>
    <section id="area_king" class="position-absolute top-50 start-50 translate-middle">
        <div class="container" id="menu_login">
            <img class="img-fluid" src="Assets/image/logo.png" style="width:300px; height: 300px;">
            <form action="#" id="formulario" style="width: 100%; padding: 30px;">
                <input type="text" style="padding: 20px; margin-bottom: 10px; border-radius: 15px 15px;" maxlength="50" required minlength="10" class="form-control" id="NomeInput" placeholder="Nome Completo">
                <input type="text" style="padding: 20px; margin-bottom: 10px; border-radius: 15px 15px;" maxlength="50" minlength="10" class="form-control" id="InputText" placeholder="Endereço" required>
                <input type="date" style="padding: 20px; margin-bottom: 10px; border-radius: 15px 15px;  " class="form-control" id="InputDate">
                <select class="form-select" id="generoSelect"  style="padding: 20px; margin-bottom: 10px; border-radius: 15px 15px;"  aria-label="Default select example">
                    <option >Gênero</option>
                    <option value="Masculino" aria-required="true">Masculino</option>
                    <option value="Feminino" aria-required="true">Feminino</option>
                  </select>
                <input type="email" style="padding: 20px; margin-bottom: 10px; border-radius: 15px 15px;" minlength="10" maxlength="70" class="form-control" id="InputEmail" placeholder="Email" required>
                <input type="password" style="padding: 20px; margin-bottom: 10px; border-radius: 15px 15px;" minlength="8" maxlength="20" class="form-control" id="PasswordInput" placeholder="Senha" required>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
                    <label class="form-check-label" for="invalidCheck">
                      <a href="#"> Aceito os termos de condições</a>
                    </label>
                </div>
                <input class="form-check-input" type="checkbox" value="" id="invalidCheck" >
                        <label class="form-check-label" for="invalidCheck">
                          Aceito Receber E-mails do Pet Match
                        </label>    
                <button class="btn btn-primary" type="submit" style="border-radius: 12px 12px; margin-top: 20px; background-color: #0CC0DF; width: 100%; align-items: center; font-size: 20px;">CRIAR CONTA</button>
            </form>  
    </section>    
<script>
    const form = document.querySelector('#formulario');
    form.addEventListener('submit', (event) => {
      event.preventDefault(); // previne o envio padrão do formulário


      const nome = document.getElementById('NomeInput').value;
      const endereco = document.getElementById('InputText').value;
      const dt_nascimento = document.getElementById('InputDate').value;
      const genero = document.getElementById('generoSelect').value;
      const email = document.getElementById('InputEmail').value;
      const senha = document.getElementById('PasswordInput').value;
      
      const data = {
        "Nome": nome,
	      "Endereco": endereco,
	      "Dt_Nascimento": dt_nascimento,
	      "Genero": genero,
	      "Email": email,
	      "Senha": senha
      };

      fetch('https://petmatchapi.onrender.com/usuario/cadastro', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
      })
      .then(response => {
        if (response.ok) {
          alert('Usuário cadastrado com sucesso!');
          window.location.href = 'index.html';
          form.reset();
        } else {
          throw new Error('Erro ao cadastrar usuário');
        }
      })
      .catch(error => console.error(error));
    });
  </script>
<script src="Assets/js/script.js"></script>  
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ" crossorigin="anonymous"></script>  
</body>
</html>